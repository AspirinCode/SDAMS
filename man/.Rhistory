load('IHC_5protein.RData')
data_TWIST_Score = cbind(data$primary$TWIST_Score,data$recur$TWIST_Score)
data_ordinal4_miss = function(rawdata,n,seed,pmiss=NULL){ # missing percentage for each side
if (is.null(pmiss)){
set.seed(12345+123*seed)
ind = sample(1:dim(rawdata)[1],n,replace = T)
simdata = rawdata[ind,]
simdata = cbind(simdata[,1],simdata[,2])
} else {
set.seed(2345+123*seed)
ind = sample(1:dim(rawdata)[1],n,replace = T)
simdata = rawdata[ind,]
missflag1 = rbinom(n,1,1-pmiss) # 0 for missing
simdata[,1][which(missflag1==0)] = NA
missflag2 = rbinom(n,1,1-pmiss) # 0 for missing
simdata[,2][which(missflag2==0)] = NA
simdata = cbind(simdata[,1],simdata[,2])
}
pmiss1 = mean(is.na(simdata[,1])); pmiss2 = mean(is.na(simdata[,2]))
return(c(pmiss1,pmiss2))
}
result_prop = matrix(NA,ncol = 2,nrow = 3000)
for(i in 1:3000){
result_prop[i,] = data_ordinal4_miss(rawdata=data_TWIST_Score,n=10,seed=i,pmiss=NULL)
}
colMeans(result_prop)
load("/Users/li/SDAMS/data/exampleSumExpset.rda")
library(SummarizedExperiment)
colData(exampleSumExpset)
aa=colData(exampleSumExpset)
table(aa$grouping)
dd = data.frame(aa=c(2,NA,8,3,7), bb=c(3,2,NA,9,2))
class(dd)
is.matrix(dd)
featureInfo = matrix(runif(800,-2,5),ncol = 40)
featureInfo[featureInfo<0] = 0
class(featureInfo)
directory1 <- system.file("extdata", package="SDAMS", mustWork=TRUE)
path1 <- paste(directory1, "ProstateFeature.csv", sep="/")
path1
file.path(directory1, "ProstateFeature.csv")
load("/Users/li/SDAMS/data/exampleSumExpset.rda")
exampleSumExp = exampleSumExpset
exampleSumExp
save(exampleSumExp,file = 'exampleSumExp.rda')
